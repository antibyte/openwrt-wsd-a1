  The Asus WSD-A1 is a mobile wireless storage device.
  Inside it consists of :
  
Mt7620a (SOC + 2.4GHz Wifi)
Mt7610en (5 GHz WIFI)
EM68B16CWQH (64MB DDR2 RAM)
25Q128CSIG (128 Mbit SPI NOR Flash)
HT66F40 (8bit MCU , maybe controlling power, shutdown, USB switch)
Fe1.1s (4 Port USB Hub)
Alcor AU6472 (USB card reader IC)
RFFM4501 (5ghz WIFI frontend)
MP2625 2A battery charger
UM7222MA (USB Switch)

There is one 32GB microSD card inside (the advertised SSD).

The factory firmware has a telnet port open, the root password is "20080826".
While booting the factory firmware looks for a file "EnterRouterMode.sh" on the SD card and executes it if found.
So you can have your own scripts run.

The case is very hard to open. I got it open by clamping it in a vice until a small slit is opening and then using
a plastik opener tool for mobile phones to slide in the slit.

There is a 3.3V serial interface on pads as well as a ethernet port on labeled pads. I hooked an ethernet transformer
to those pads and it worked.
If connected via ethernet you can hold the reset button for 20 seconds while powering on and it will try to fetch a firmware update
via TFTP. TFTP server has to run on 10.10.10.254. The device loads two files from there. first one has to be named "kernel" and
the second one "rootfs". Those are then flashed to the corresponding partitions and the device is rebooted.

Flashing OpenWrt has to be done via mtd_write while logged in via telnet or using the "EnterRouterMode.sh" script route.

cd /data/sdb1
mtd_write write ./kernel.bin Kernel_RootFS
mtd_write -r write ./rootfs.bin Rootfs

Keep in mind that at the moment there is no recovery possible if something goes wrong without opening the device !
Backup the partitons before changing anything. (cat /dev/mtdX > /data/sdb1/mtd.bin - X = 1..8)

The OpenWrt adaption found here has some limitations at the moment :

- 5GHz WIFI is not working.
- Power button does a hard shutdown. The HT66F40 microcontroller seems to monitor the button and kills power
  after some seconds. I have not figured out yet how this is signaled to the SOC.
  
  
  
  
  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------

This is the buildsystem for the OpenWrt Linux distribution.

To build your own firmware you need a Linux, BSD or MacOSX system (case
sensitive filesystem required). Cygwin is unsupported because of the lack
of a case sensitive file system.

You need gcc, binutils, bzip2, flex, python, perl, make, find, grep, diff,
unzip, gawk, getopt, subversion, libz-dev and libc headers installed.

1. Run "./scripts/feeds update -a" to obtain all the latest package definitions
defined in feeds.conf / feeds.conf.default

2. Run "./scripts/feeds install -a" to install symlinks for all obtained
packages into package/feeds/

3. Run "make menuconfig" to select your preferred configuration for the
toolchain, target system & firmware packages.

4. Run "make" to build your firmware. This will download all sources, build
the cross-compile toolchain and then cross-compile the Linux kernel & all
chosen applications for your target system.

Sunshine!
	Your OpenWrt Community
	http://www.openwrt.org


